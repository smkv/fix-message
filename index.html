<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fix Message Web Component</title>
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">-->
</head>
<body>
<h1>Fix Message Web Component</h1>
<table id="messagesTable">
</table>
<fix-message id="fixMessage" message="" mode="table" delimiter="|"></fix-message>
<script src="fix-message.mjs" type="module"></script>
<script>
    const messagesTable = document.getElementById('messagesTable');
    const fixMessage = document.getElementById('fixMessage');
    fetch('fix-messages.txt')
        .then(response => response.text())
        .then(text => text.split('\n').filter(Boolean))
        .then(messages => {
            messages.forEach(message => {
                const tr = document.createElement('tr');
                const td = document.createElement('td');
                const a = document.createElement('a');
                a.textContent = message;
                a.href = '#';
                a.addEventListener('click', () => {
                    messagesTable.querySelectorAll('td.selected').forEach(td => td.classList.remove('selected'));
                    fixMessage.message = message;
                    td.classList.add('selected');
                });
                td.appendChild(a);
                tr.appendChild(td);
                messagesTable.appendChild(tr);
            });
        });


</script>
</body>
</html>